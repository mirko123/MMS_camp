В гората живял някога змеят Генчо. Той бил много добър змей и ядял хора само понякога. Една година обаче, като дошла пролетта, на Генчо му се приискало да се ..., ъъъъ, познае с някоя ламя. Лами в гората имало много, но всичките били с вишу убръзуваниѝ от Факултета по Манафски Извращения към Смядовския Университет, където им преподавали видни шамани и вещици като Доцент МастърБиров Ракиев, ГолямаКосматка Мустакова Великова, Владо ДъГуЕва Гаусов, баба Ивана, гл. ас. Андрейчин, доцент д-р Зачленвий и други, но млъкни сърце, списъкът е дълъг...

Та, ламите поназнайвали булева алгебра, а и на всички им се ..., ъъъъ, познавало със змей и направили списък с имената си, и всяка написала задача за нашия познат змей Генчо във файл с името си, и написали списъка във файл, имената им били разделени с '\n'. Генчо обаче, нали бил кух и в трите глави кат' измит казан за мастърбирова ракия, хабер си нямал какво да прави. 'Па да вземем да му помогнем ние с програмче, винаги се помага на змейове. Убръзуванити лами знаели за обратен полски запис ('щото излапали преди години някакви поляци на Слънчака, историята мълчи какво точно излапали) и много обичали да го ползват, ама знаели само операторите ~, &, |, ^ и 'p', като файловете им имали много редове с изчисления, пак разделени с '\n'. При EOF или 'p' е хубаво да се покаже и резултата от сметките; ако няма - помагачът се дава на Генчо за консумация. Тъй като ламите били нетърпеливи, Генчо трябвало да прави сметките паралелно и първата ламя, получила резултат, спичелвала познаването със змея. Генчо обаче трябвало все пак да покаже всичките резултати, иначе ламите нямало да го търсят на следващата пролет. Някои лами, като баба Гууууси например, били мъжки, ама пак обличали дрехи на лами, но от простотия и убръзуваниѝту си направили сметките да връщат отрицателни числа, без да искат, така че програмчето да пише на изхода си "IT'S A TRAP!!!" за такива лами, да не вземе да се обърка Генчо.

'Те ги данните:

файл za_gencho (но може да бъде с друго име, подава се като аргумент на програмата, в char **argv):
spaska
penka
genka
taraska
baba_guuuusi

файл spaska:
1 8 |
15 ^ p

файл penka:
15 3 ^ 31 ~ | p

файл genka:
1 2 3 4 5 & &
& &
1 2 3 4 5 | | | | ^
p

файл taraska:
1 2 3 4 5 | | | | p

файл baba_guuuusi:
1 ~ 2 ~ | ~ 3 & ~ p

